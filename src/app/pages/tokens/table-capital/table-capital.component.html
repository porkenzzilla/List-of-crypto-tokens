<main>
    <table class="table">
      <caption class="caption">Top active tokens</caption>
      <thead>
      <tr class='table-links'>
        <th class='table-links-th' colspan="2" routerLink="/">by Capitalization</th>
        <th class='table-links-th' colspan="2" routerLink="/volume">by Volume of Trade</th>
        <th class='table-links-th' colspan="2" routerLink="/operations">by Operations</th>
      </tr>
      <tr>
        <th class='table-tr'>Tokens</th>
        <th class='table-tr'>Price</th>
        <th class='table-tr'>Capitalization</th>
        <th class='table-tr'>24h</th>
        <th class='table-tr'>7d</th>
        <th class='table-tr'>30d</th>
      </tr>
      </thead>
      <tbody>
        <ng-template *ngIf="storageData !== [null] && storageImage !== null; then thenBlock"></ng-template>
         <ng-template #thenBlock>
          <tr *ngFor="let item of storageData">
            <td>
              <img [src]="storageImage">
              {{ item?.name }}
            </td>
            <td>${{ item?.rate | number:'1.2-2' }}</td>
            <td>{{ item?.marketCapUsd! | appPrettyNum }}</td>
            <td>{{ item?.diff }}%</td>
            <td>{{ item?.diff7d }}%</td>
            <td>{{ item?.diff30d | number:'1.2-2' }}%</td>
          </tr>
         </ng-template> 
      <tr *ngFor="let item of data$ | async | slice:0:limit; let i = index;">
        <td>
          <img [src]="item?.image! | appImageToken:item?.name!" [alt]="item?.name">
          {{ item?.name }}
        </td>
        <td>${{ item?.price?.rate | number:'1.2-2' }}</td>
        <td>{{ item?.price?.marketCapUsd! | appPrettyNum }}</td>
        <td>{{ item?.price?.diff }}%</td>
        <td>{{ item?.price?.diff7d }}%</td>
        <td>{{ item?.price?.diff30d | number:'1.2-2' }}%</td>
      </tr>
      </tbody>
      <tfoot>
      <tr>
        <th colspan='6'>
          <div class="table-footer">
            <button class='token-button' (click)='showMoreTokens()'>
              {{ buttonText }}
            </button>
          </div>
        </th>
      </tr>
      </tfoot>
    </table>
  </main>
